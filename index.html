<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<title>Listener de postMessage</title>
<style>
body{font-family:Arial, sans-serif;padding:2rem}
pre{white-space:pre-wrap;background:#f6f8fa;padding:1rem;border-radius:6px}
</style>
</head>
<body>
<h2>Esperando mensagensâ€¦</h2>
<pre id="out">Nenhuma mensagem recebida ainda.</pre>

<script>
const out = document.getElementById("out");

window.addEventListener("message", (event) => {
  /* Em produÃ§Ã£o valide event.origin! */
  if (!event.data?.type) return;

  out.textContent =
    `ğŸ“¨ type: ${event.data.type}\n`
  + `payload:\n${JSON.stringify(event.data.payload, null, 2)}`;
});
</script>
</body>
</html>
